webpackJsonp([1],{"5/Ti":function(e,t){},"6Edb":function(e,t){},"9b69":function(e,t){},CJ7v:function(e,t){},CuRo:function(e,t){},HM9g:function(e,t){},Ikzn:function(e,t){},NHnr:function(e,t,r){"use strict";function s(e){r("Ikzn")}function a(e){r("V4dV")}function n(){var e=this;this.urls={devProxy:"",base:"https://shipbobinterview.azurewebsites.net",users:"/api/users"},this.getUsers=function(t){return Y.ajax({method:"GET",url:""+e.urls.devProxy+e.urls.base+e.urls.users,contentType:"application/json",crossDomain:!0,data:t}).done(function(e){return e})},this.createUser=function(t){return Y.ajax({method:"POST",url:""+e.urls.devProxy+e.urls.base+e.urls.users,contentType:"application/json",crossDomain:!0,data:W()(t)}).done(function(e){return e})},this.getUser=function(t){return Y.ajax({method:"GET",url:""+e.urls.devProxy+e.urls.base+e.urls.users+"/"+t.userId,contentType:"application/json",crossDomain:!0}).done(function(e){return e})},this.updateUser=function(t){return Y.ajax({method:"PUT",url:""+e.urls.devProxy+e.urls.base+e.urls.users,contentType:"application/json",crossDomain:!0,data:W()(t)}).done(function(e){return e})},this.deleteUser=function(t){return Y.ajax({method:"DELETE",url:""+e.urls.devProxy+e.urls.base+e.urls.users,contentType:"application/json",crossDomain:!0,data:W()(t)}).done(function(e){return e})}}function i(){var e=this;this.urls={devProxy:"",base:"https://shipbobinterview.azurewebsites.net",users:"/api/users",orders:"/orders"},this.getOrders=function(t){return ee.ajax({method:"GET",url:""+e.urls.devProxy+e.urls.base+e.urls.users+"/"+t.userId+e.urls.orders,contentType:"application/json",crossDomain:!0,data:t}).done(function(e){return e})},this.createOrder=function(t){return ee.ajax({method:"POST",url:""+e.urls.devProxy+e.urls.base+e.urls.users+"/"+t.userId+e.urls.orders,contentType:"application/json",crossDomain:!0,data:W()(t)}).done(function(e){return e})},this.updateOrder=function(t){return ee.ajax({method:"PUT",url:""+e.urls.devProxy+e.urls.base+e.urls.users+"/"+t.userId+e.urls.orders,contentType:"application/json",crossDomain:!0,data:W()(t)}).done(function(e){return e})},this.getOrder=function(t){return ee.ajax({method:"GET",url:""+e.urls.devProxy+e.urls.base+e.urls.users+"/"+t.userId+e.urls.orders+"/"+t.orderId,contentType:"application/json",crossDomain:!0}).done(function(e){return e})},this.deleteOrder=function(t){return ee.ajax({method:"DELETE",url:""+e.urls.devProxy+e.urls.base+e.urls.users+"/"+t.userId+e.urls.orders,contentType:"application/json",crossDomain:!0,data:W()(t)}).done(function(e){return e})}}function o(e,t){var r=t.userId||t.id;return e.findIndex(function(e){return e.userId===r})}function u(e,t){var r=t.orderId;return e.findIndex(function(e){return e.orderId===r})}function d(e){r("HM9g")}function l(e){r("5/Ti")}function c(e){var t=this;return this.validationMessages={length:"Must be present.",specialCharacters:"Cannot contain special characters.",numbers:"Cannot contain numbers.",letters:"Cannot contain letters.",none:""},this.length=function(e){return e.length>0},this.specialCharacters=function(e){return!/[~\@`!#$%\^&*+=_\-\[\]\\';.\(\),\/{}|\\":<>\?]/g.test(e)},this.numbers=function(e){return!/[0-9]/g.test(e)},this.letters=function(e){return!/[a-zA-Z]/g.test(e)},function(r){for(var s=!0,a=t.validationMessages.none,n=0;n<e.length;n++){var i=e[n];if(!(s=t[i](r))){a=t.validationMessages[i];break}}return{valid:s,message:a}}}function m(e){r("Rcw2")}function p(e){r("CJ7v")}function h(e){r("nmdr")}function f(e){r("wUnP")}function v(e){r("9b69")}function _(e){r("6Edb")}function g(e){r("ZHmT")}function C(e){var t=e.params.user,r=[{name:"Home",routeAction:"routeToBase"}];"User"===e.name?r.push({name:"User",routeAction:"routeToUser",props:{user:t}}):"EditUser"===e.name?r.push({name:"Edit User",routeAction:"routeToUpsertUser",props:{user:t}}):"NewUser"===e.name&&r.push({name:"New User",routeAction:"routeToUpsertUser"}),e.meta.breadcrumbs=r}function b(e){var t=e.params.user,r=e.params.order,s=[{name:"Home",routeAction:"routeToBase"},{name:"User",routeAction:"routeToUser",props:{user:t}}];"Order"===e.name?s.push({name:"Order",routeAction:"routeToOrder",props:{user:t,order:r}}):"EditOrder"===e.name?s.push({name:"Edit Order",routeAction:"routeToUpsertOrder",props:{user:t,order:r}}):"NewOrder"===e.name&&s.push({name:"New Order",routeAction:"routeToUpsertOrder",props:{user:t,order:r}}),e.meta.breadcrumbs=s}function U(e,t,r){e.params.user?(C(e,t,r),r()):(ae.dispatch("setLoading",!0),ae.dispatch("fetchUsers").then(function(){ae.dispatch("getUser",{userId:e.params.userId}).then(function(s){s||r("/"),e.params.user=s,ae.dispatch("setLoading",!1),C(e,t,r),r()})}))}function x(e,t,r,s){ae.dispatch("setLoading",!0),ae.dispatch("getOrder",s).then(function(s){s||r({name:"User",params:e.params}),e.params.order=s,ae.dispatch("setLoading",!1),b(e,t,r),r()})}function I(e,t,r){var s=e.params.user.orders,a=e.params.orderId,n=s.findIndex(function(e){return e.orderId===parseInt(a,10)});if(n>=0){var i=s[n];i.location?(e.params.order=i,b(e,t,r),r()):x(e,t,r,i)}else C(e,t,r),r({name:"User",params:e.params})}function y(e,t,r){e.params.order?e.params.order.location?(b(e,t,r),r()):x(e,t,r,e.params.order):I(e,t,r)}Object.defineProperty(t,"__esModule",{value:!0});var O=r("7+uW"),T={methods:{routeToBase:function(){this.$router.push({name:"Users"})},routeToUpsertUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.user;t?this.$router.push({name:"EditUser",params:{userId:t.userId,user:t}}):this.$router.push({name:"NewUser"})},routeToUser:function(e){var t=e.user;this.$router.push({name:"User",params:{userId:t.userId,user:t}})},routeToUpsertOrder:function(e){var t=e.user,r=e.order;r?this.$router.push({name:"EditOrder",params:{user:t,order:r,orderId:r.orderId}}):this.$router.push({name:"NewOrder",params:{user:t}})},routeToOrder:function(e){var t=e.user,r=e.order;this.$router.push({name:"Order",params:{user:t,order:r,orderId:r.orderId}})},isRoute:function(e){return this.$route.name===e}}},S=T,k={name:"NavigationBar",mixins:[S],computed:{notices:function(){return this.$store.state.notices},areNotices:function(){return this.notices.length>0}}},N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"navigation-bar bg--light"},[r("transition-group",{staticClass:"collapse",class:{expand:e.areNotices},attrs:{name:"notice"}},e._l(e.notices,function(t,s){return r("div",{key:s,staticClass:"notice"},[e._v(e._s(t))])})),e._v(" "),r("a",{staticClass:"navigation-item",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.routeToBase()}}},[e._v("ShipBob")])],1)},w=[],D={render:N,staticRenderFns:w},V=D,E=r("VU/8"),L=s,$=E(k,V,!1,L,"data-v-67d4753e",null),P=$.exports,j={name:"app",components:{NavigationBar:P},computed:{loading:function(){return this.$store.state.loading}}},B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("NavigationBar"),e._v(" "),r("div",{staticClass:"loading-bg flex center",class:{loading:e.loading}},[r("transition",{attrs:{name:"fade",mode:"out-in"}},[r("router-view")],1)],1)],1)},A=[],M={render:B,staticRenderFns:A},F=M,R=r("VU/8"),z=a,q=R(j,F,!1,z,"data-v-3f803098",null),H=q.exports,Z=r("//Fk"),G=r.n(Z),J=r("NYxO"),Q=r("mvHQ"),W=r.n(Q),Y=r("7t+N"),K=new n,X=K,ee=r("7t+N"),te=new i,re=te;O.a.use(J.a);var se=new J.a.Store({state:{users:[],notices:[],loading:!1},mutations:{setUsers:function(e,t){e.users=t},upsertUser:function(e,t){var r=o(e.users,t);r>=0?e.users.splice(r,1,t):e.users.push(t)},deleteUser:function(e,t){var r=o(e.users,t);e.users.splice(r,1)},setOrders:function(e,t){var r=t.orders,s=t.userData,a=s.user,n=o(e.users,a);a.orders=r,e.users.splice(n,1,a)},upsertOrder:function(e,t){var r=o(e.users,{userId:t.userId}),s=e.users[r],a=u(s.orders,t);a>=0?s.orders.splice(a,1,t):s.orders.push(t)},deleteOrder:function(e,t){var r=o(e.users,{userId:t.userId}),s=e.users[r],a=u(s.orders,t);s.orders.splice(a,1)},addNotice:function(e,t){e.notices.push(t),setTimeout(function(){e.notices.length>0&&e.notices.splice(0,1)},2500)},setLoading:function(e,t){e.loading=t}},actions:{fetchUsers:function(e){return new G.a(function(t){X.getUsers().then(function(r){e.commit("setUsers",r),t()})})},getUser:function(e,t){return new G.a(function(r){X.getUser(t).then(function(t){e.commit("upsertUser",t),r(t)})})},createUser:function(e,t){X.createUser(t).then(function(t){e.commit("addNotice","Successfully created user."),e.commit("upsertUser",t)})},updateUser:function(e,t){X.updateUser(t).then(function(t){e.commit("addNotice","Successfully updated user."),e.commit("upsertUser",t)})},deleteUser:function(e,t){X.deleteUser(t).then(function(t){e.commit("addNotice","Successfully deleted user."),e.commit("deleteUser",t)})},fetchOrders:function(e,t){re.getOrders(t).then(function(r){e.commit("setOrders",{orders:r,userData:t})})},createOrder:function(e,t){re.createOrder(t).then(function(t){e.commit("addNotice","Successfully created order."),e.commit("upsertOrder",t)})},updateOrder:function(e,t){re.updateOrder(t).then(function(t){e.commit("addNotice","Successfully updated order."),e.commit("upsertOrder",t)})},deleteOrder:function(e,t){re.deleteOrder(t).then(function(t){e.commit("addNotice","Successfully deleted order."),e.commit("deleteOrder",t)})},getOrder:function(e,t){return new G.a(function(r){re.getOrder(t).then(function(t){e.commit("upsertOrder",t),r(t)})})},setLoading:function(e,t){e.commit("setLoading",t)}}}),ae=se,ne=r("/ocq"),ie={name:"Users",mixins:[S],data:function(){return{filterUsers:""}},mounted:function(){this.users.length>0||this.$store.dispatch("fetchUsers")},computed:{users:function(){return this.$store.state.users},hasUsers:function(){return this.users.length>0},filteredUsers:function(){var e=this;return this.users.filter(function(t){return-1!==(t.lastName.toLowerCase()+" "+t.firstName.toLowerCase()).indexOf(e.filterUsers.toLowerCase())})}}},oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"users col-9 component-container"},[r("div",{staticClass:"block-header"},[r("h3",{staticClass:"block-title"},[e._v("Users:")]),e._v(" "),r("a",{staticClass:"button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.routeToUpsertUser()}}},[e._v("Create New User")])]),e._v(" "),r("div",{staticClass:"well bg--ultra-light"},[r("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[e.hasUsers?r("div",{key:"users"},[r("div",{staticClass:"search"},[r("label",{staticClass:"label"},[e._v("Filter Users:")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.filterUsers,expression:"filterUsers"}],staticClass:"text-input",attrs:{type:"text",name:"filter-users",placeholder:"Filter by name..."},domProps:{value:e.filterUsers},on:{input:function(t){t.target.composing||(e.filterUsers=t.target.value)}}})]),e._v(" "),r("transition-group",{attrs:{name:"list"}},e._l(e.filteredUsers,function(t,s){return r("div",{key:t.userId,staticClass:"list-item bg--light"},[r("p",{staticClass:"list-item-title"},[e._v(e._s(t.lastName)+", "+e._s(t.firstName))]),e._v(" "),r("div",{staticClass:"list-item-options"},[r("a",{staticClass:"list-item-option link--alert",attrs:{href:"#"},on:{click:function(r){r.preventDefault(),e.routeToUpsertUser({user:t})}}},[e._v("Edit User")]),e._v(" "),r("a",{staticClass:"list-item-option link--secondary",attrs:{href:"#"},on:{click:function(r){r.preventDefault(),e.routeToUser({user:t})}}},[e._v("Orders")])])])}))],1):r("div",{key:"no-users",staticClass:"none-item"},[r("p",{staticClass:"inline"},[e._v("There are currently no created users. Click to ")]),e._v(" "),r("a",{staticClass:"inline link--primary",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.routeToUpsertUser()}}},[e._v("create user")]),e._v(" "),r("p",{staticClass:"inline"},[e._v(".")])])])],1)])},ue=[],de={render:oe,staticRenderFns:ue},le=de,ce=r("VU/8"),me=d,pe=ce(ie,le,!1,me,"data-v-2d0682e3",null),he=pe.exports,fe=r("woOf"),ve=r.n(fe),_e={name:"SharedModal",methods:{toggleModal:function(){this.$emit("close-modal")}}},ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal"},[r("div",{staticClass:"close-area",on:{click:function(t){e.toggleModal()}}}),e._v(" "),r("div",{staticClass:"modal-container col-7 bg--light"},[e._t("header"),e._v(" "),e._t("default"),e._v(" "),e._t("actions")],2)])},Ce=[],be={render:ge,staticRenderFns:Ce},Ue=be,xe=r("VU/8"),Ie=l,ye=xe(_e,Ue,!1,Ie,null,null),Oe=ye.exports,Te=c,Se={name:"SharedTextInput",props:{modelString:{type:String,required:!0},label:{type:String,required:!1,default:void 0},validationList:{type:Array,required:!1,default:function(){return[]}},placeholder:{type:String,required:!1,default:""},value:{type:String,required:!0}},data:function(){return{validationMessage:""}},computed:{textValue:{get:function(){return this.value},set:function(e){var t=new Te(this.validationList),r=t(e),s=r.valid,a=r.message;this.validationMessage=a,this.$emit("update-text",this.modelString,{valid:s,text:e})}},hasValidationMessage:function(){return this.validationMessage.length>0}}},ke=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"text-input-container"},[r("label",{staticClass:"label"},[e._v(e._s(e.label)+":")]),e._v(" "),r("transition",{attrs:{name:"fade"}},[e.hasValidationMessage?r("p",{staticClass:"validation"},[e._v(e._s(e.validationMessage))]):e._e()]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.textValue,expression:"textValue"}],staticClass:"text-input",class:{invalid:e.hasValidationMessage},attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.textValue},on:{input:function(t){t.target.composing||(e.textValue=t.target.value)}}})],1)},Ne=[],we={render:ke,staticRenderFns:Ne},De=we,Ve=r("VU/8"),Ee=m,Le=Ve(Se,De,!1,Ee,"data-v-3b5d17ba",null),$e=Le.exports,Pe={name:"SharedBreadCrumbs",mixins:[S],data:function(){return{breadcrumbs:[]}},mounted:function(){this.breadcrumbs=this.$route.meta.breadcrumbs},methods:{isLastBreadcrumb:function(e){return e>=this.breadcrumbs.length-1},executeRoute:function(e){this[e.routeAction](e.props)}}},je=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"breadcrumbs"},e._l(e.breadcrumbs,function(t,s){return r("div",{staticClass:"breadcrumb-item"},[r("a",{key:s,staticClass:"link--primary",class:{"router-link-exact-active":e.isLastBreadcrumb(s)},attrs:{href:"#"},on:{click:function(r){r.preventDefault(),e.executeRoute(t)}}},[e._v(e._s(t.name))]),e._v(" "),e.isLastBreadcrumb(s)?e._e():r("p",{staticClass:"breadcrumb-divider"},[e._v(" > ")])])}))},Be=[],Ae={render:je,staticRenderFns:Be},Me=Ae,Fe=r("VU/8"),Re=p,ze=Fe(Pe,Me,!1,Re,"data-v-d932ef48",null),qe=ze.exports,He={name:"UpsertUser",mixins:[S],components:{SharedModal:Oe,SharedTextInput:$e,SharedBreadCrumbs:qe},props:{user:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{firstName:{value:"",valid:!1},lastName:{value:"",valid:!1},showDeleteConfirmation:!1,textValidations:["length","specialCharacters","numbers"]}},mounted:function(){this.isEdit&&this.setupUser(this.user)},computed:{isEdit:function(){return void 0!==this.userId},userId:function(){return this.user.userId||this.$route.params.id},action:function(){return this.isEdit?"Edit":"New"},isValidInput:function(){return this.firstName.valid&&this.lastName.valid},userParams:function(){var e=this.firstName.value,t=this.lastName.value,r={firstName:e,lastName:t};return this.isEdit?ve()(r,{userId:this.userId}):r}},methods:{handleUpdateText:function(e,t){var r=t.valid,s=t.text;this[e].valid=r,this[e].value=s},setupUser:function(e){var t=e.firstName,r=e.lastName;this.firstName.value=t,this.firstName.valid=!0,this.lastName.value=r,this.lastName.valid=!0},toggleConfirmDelete:function(){this.showDeleteConfirmation=!this.showDeleteConfirmation},deleteUser:function(){this.$store.dispatch("deleteUser",this.userParams),this.routeToBase()},cancelAction:function(){this.routeToBase()},saveUser:function(){this.isValidInput&&(this.isEdit?this.$store.dispatch("updateUser",this.userParams):this.$store.dispatch("createUser",this.userParams),this.routeToBase())}}},Ze=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"user col-9 component-container"},[r("SharedBreadCrumbs"),e._v(" "),r("h1",{staticClass:"title"},[e._v(e._s(e.action)+" User")]),e._v(" "),r("SharedTextInput",{attrs:{modelString:"firstName",label:"First Name",validationList:e.textValidations,placeholder:"First name...",value:e.firstName.value},on:{"update-text":e.handleUpdateText}}),e._v(" "),r("SharedTextInput",{attrs:{modelString:"lastName",label:"Last Name",validationList:e.textValidations,placeholder:"Last name...",value:e.lastName.value},on:{"update-text":e.handleUpdateText}}),e._v(" "),r("div",{staticClass:"actions"},[e.isEdit?r("a",{staticClass:"action--spaced link--alert",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.toggleConfirmDelete()}}},[e._v("Delete User")]):e._e(),e._v(" "),r("div",{staticClass:"action--row"},[r("a",{staticClass:"action--left button button--alert",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.cancelAction()}}},[e._v("Cancel")]),e._v(" "),r("a",{staticClass:"action--left button button--save",class:{disabled:!e.isValidInput},attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.saveUser()}}},[e._v("Save User")])])]),e._v(" "),r("transition",{attrs:{name:"modal-fade"}},[e.showDeleteConfirmation?r("SharedModal",{on:{"close-modal":function(t){e.toggleConfirmDelete()}}},[r("h1",{staticClass:"modal-header",attrs:{slot:"header"},slot:"header"},[e._v("Confirm Delete")]),e._v(" "),r("p",{staticClass:"modal-body"},[e._v("Are you sure you want to delete this user?")]),e._v(" "),r("div",{staticClass:"action--row modal-actions",attrs:{slot:"actions"},slot:"actions"},[r("a",{staticClass:"action--right button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.toggleConfirmDelete()}}},[e._v("Cancel")]),e._v(" "),r("a",{staticClass:"action--right button button--alert",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.deleteUser()}}},[e._v("Delete")])])]):e._e()],1)],1)},Ge=[],Je={render:Ze,staticRenderFns:Ge},Qe=Je,We=r("VU/8"),Ye=h,Ke=We(He,Qe,!1,Ye,"data-v-e5720540",null),Xe=Ke.exports,et={name:"User",mixins:[S],components:{SharedBreadCrumbs:qe},props:{user:{type:Object,required:!0}},data:function(){return{filterOrders:""}},mounted:function(){this.user.orders||this.$store.dispatch("fetchOrders",{userId:this.user.userId,user:this.user})},computed:{userId:function(){return this.user.userId},orders:function(){return this.user.orders||[]},hasOrders:function(){return this.orders.length>0},filteredOrders:function(){var e=this;return this.orders.filter(function(t){return-1!==t.trackingId.toLowerCase().indexOf(e.filterOrders.toLowerCase())})}}},tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"user col-9 component-container"},[r("transition",{attrs:{name:"fade",mode:"out-in"}},[e.isRoute("User")?r("div",[r("SharedBreadCrumbs"),e._v(" "),r("h1",{staticClass:"title"},[e._v(e._s(e.user.lastName)+", "+e._s(e.user.firstName))]),e._v(" "),r("div",{staticClass:"block-header"},[r("h3",{staticClass:"block-title"},[e._v("Orders:")]),e._v(" "),r("a",{staticClass:"button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.routeToUpsertOrder({user:e.user})}}},[e._v("Create New Order")])]),e._v(" "),r("div",{staticClass:"well bg--ultra-light"},[r("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[e.hasOrders?r("div",{key:"orders"},[r("div",{staticClass:"search"},[r("label",{staticClass:"label"},[e._v("Filter Orders:")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.filterOrders,expression:"filterOrders"}],staticClass:"text-input",attrs:{type:"text",name:"filter-orders",placeholder:"Filter by tracking number..."},domProps:{value:e.filterOrders},on:{input:function(t){t.target.composing||(e.filterOrders=t.target.value)}}})]),e._v(" "),r("transition-group",{attrs:{name:"list"}},e._l(e.filteredOrders,function(t,s){return r("div",{key:t.orderId,staticClass:"list-item bg--light"},[r("p",{staticClass:"list-item-title"},[e._v(e._s(t.trackingId))]),e._v(" "),r("div",{staticClass:"list-item-options"},[r("a",{staticClass:"list-item-option link--alert",attrs:{href:"#"},on:{click:function(r){r.preventDefault(),e.routeToUpsertOrder({user:e.user,order:t})}}},[e._v("Edit Order")]),e._v(" "),r("a",{staticClass:"list-item-option link--secondary",attrs:{href:"#"},on:{click:function(r){r.preventDefault(),e.routeToOrder({user:e.user,order:t})}}},[e._v("View Order")])])])}))],1):r("div",{key:"no-orders",staticClass:"none-item"},[r("p",{staticClass:"inline"},[e._v("There are currently no orders for "+e._s(e.user.firstName)+". Click to ")]),e._v(" "),r("a",{staticClass:"inline link--primary",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.routeToUpsertOrder({user:e.user})}}},[e._v("add order")]),e._v(" "),r("p",{staticClass:"inline"},[e._v(".")])])])],1)],1):r("router-view")],1)],1)},rt=[],st={render:tt,staticRenderFns:rt},at=st,nt=r("VU/8"),it=f,ot=nt(et,at,!1,it,"data-v-1febe434",null),ut=ot.exports,dt={name:"UpsertOrder",mixins:[S],components:{SharedModal:Oe,SharedTextInput:$e,SharedBreadCrumbs:qe},props:{order:{type:Object,required:!1,default:function(){return{}}},user:{type:Object,required:!0}},data:function(){return{trackingId:{value:"",valid:!1},street:{value:"",valid:!1},name:{value:"",valid:!1},city:{value:"",valid:!1},state:{value:"",valid:!1},zipCode:{value:"",valid:!1},locationId:"",showDeleteConfirmation:!1,presenceValidation:["length"],zipCodeValidation:["length","letters"]}},mounted:function(){this.isEdit&&this.setupOrder(this.order)},computed:{isEdit:function(){return void 0!==this.orderId},orderId:function(){return this.order.orderId||this.$route.params.orderId},action:function(){return this.isEdit?"Edit":"New"},isValidInput:function(){return this.trackingId.valid&&this.street.valid&&this.name.valid&&this.city.valid&&this.state.valid&&this.zipCode.valid},orderParams:function(){var e=this.user.userId,t=this.trackingId.value,r={street:this.street.value,name:this.name.value,city:this.city.value,state:this.state.value,zipCode:this.zipCode.value},s={trackingId:t,userId:e,location:r};if(this.isEdit){var a=ve()(s,{orderId:this.orderId}),n=a.location;return n.locationId=this.locationId,n.orderId=this.orderId,a}return s}},methods:{handleUpdateText:function(e,t){var r=t.valid,s=t.text;this[e].valid=r,this[e].value=s},setupOrder:function(e){var t=e.location,r=e.trackingId,s=t.street,a=t.name,n=t.city,i=t.state,o=t.zipCode,u=t.locationId;this.street.value=s,this.street.valid=!0,this.name.value=a,this.name.valid=!0,this.city.value=n,this.city.valid=!0,this.state.value=i,this.state.valid=!0,this.zipCode.value=o,this.zipCode.valid=!0,this.trackingId.value=r,this.trackingId.valid=!0,this.locationId=u},toggleConfirmDelete:function(){this.showDeleteConfirmation=!this.showDeleteConfirmation},deleteOrder:function(){this.$store.dispatch("deleteOrder",this.orderParams),this.routeToUser({user:this.user})},cancelAction:function(){this.routeToUser({user:this.user})},saveOrder:function(){this.isValidInput&&(this.isEdit?this.$store.dispatch("updateOrder",this.orderParams):this.$store.dispatch("createOrder",this.orderParams),this.routeToUser({user:this.user}))}}},lt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("SharedBreadCrumbs"),e._v(" "),r("h1",{staticClass:"title"},[e._v(e._s(e.action)+" Order")]),e._v(" "),r("SharedTextInput",{attrs:{modelString:"trackingId",label:"Tracking ID",validationList:e.presenceValidation,placeholder:"Tracking id...",value:e.trackingId.value},on:{"update-text":e.handleUpdateText}}),e._v(" "),r("SharedTextInput",{attrs:{modelString:"street",label:"Street",validationList:e.presenceValidation,placeholder:"Street...",value:e.street.value},on:{"update-text":e.handleUpdateText}}),e._v(" "),r("SharedTextInput",{attrs:{modelString:"name",label:"Name",validationList:e.presenceValidation,placeholder:"Name...",value:e.name.value},on:{"update-text":e.handleUpdateText}}),e._v(" "),r("SharedTextInput",{attrs:{modelString:"city",label:"City",validationList:e.presenceValidation,placeholder:"City...",value:e.city.value},on:{"update-text":e.handleUpdateText}}),e._v(" "),r("SharedTextInput",{attrs:{modelString:"state",label:"State",validationList:e.presenceValidation,placeholder:"State...",value:e.state.value},on:{"update-text":e.handleUpdateText}}),e._v(" "),r("SharedTextInput",{attrs:{modelString:"zipCode",label:"Zip Code",validationList:e.zipCodeValidation,placeholder:"Zip code...",value:e.zipCode.value},on:{"update-text":e.handleUpdateText}}),e._v(" "),r("div",{staticClass:"actions"},[e.isEdit?r("a",{staticClass:"action--spaced link--alert",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.toggleConfirmDelete()}}},[e._v("Delete Order")]):e._e(),e._v(" "),r("div",{staticClass:"action--row"},[r("a",{staticClass:"action--left button button--alert",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.cancelAction()}}},[e._v("Cancel")]),e._v(" "),r("a",{staticClass:"action--left button button--save",class:{disabled:!e.isValidInput},attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.saveOrder()}}},[e._v("Save Order")])])]),e._v(" "),r("transition",{attrs:{name:"modal-fade"}},[e.showDeleteConfirmation?r("SharedModal",{on:{"close-modal":function(t){e.toggleConfirmDelete()}}},[r("h1",{staticClass:"modal-header",attrs:{slot:"header"},slot:"header"},[e._v("Confirm Delete")]),e._v(" "),r("p",{staticClass:"modal-body"},[e._v("Are you sure you want to delete this order?")]),e._v(" "),r("div",{staticClass:"action--row modal-actions",attrs:{slot:"actions"},slot:"actions"},[r("a",{staticClass:"action--right button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.toggleConfirmDelete()}}},[e._v("Cancel")]),e._v(" "),r("a",{staticClass:"action--right button button--alert",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.deleteOrder()}}},[e._v("Delete")])])]):e._e()],1)],1)},ct=[],mt={render:lt,staticRenderFns:ct},pt=mt,ht=r("VU/8"),ft=v,vt=ht(dt,pt,!1,ft,"data-v-590b7d61",null),_t=vt.exports,gt={name:"SharedSummaryItem",props:{textLabel:{type:String,required:!0},textValue:{type:String,required:!0}}},Ct=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"summary-line"},[r("p",{staticClass:"summary-label"},[e._v(e._s(e.textLabel)+":")]),e._v(" "),r("div",{staticClass:"summary-value"},[r("p",[e._v(e._s(e.textValue))])])])},bt=[],Ut={render:Ct,staticRenderFns:bt},xt=Ut,It=r("VU/8"),yt=_,Ot=It(gt,xt,!1,yt,"data-v-0cbc7b42",null),Tt=Ot.exports,St={name:"Order",mixins:[S],components:{SharedSummaryItem:Tt,SharedBreadCrumbs:qe},props:{user:{type:Object,required:!0},order:{type:Object,required:!0}},computed:{userName:function(){return this.user.lastName+", "+this.user.firstName}}},kt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("SharedBreadCrumbs"),e._v(" "),r("h1",{staticClass:"title"},[e._v("Order Summary")]),e._v(" "),r("SharedSummaryItem",{attrs:{textValue:e.userName,textLabel:"Order For"}}),e._v(" "),r("SharedSummaryItem",{attrs:{textValue:e.order.trackingId,textLabel:"Tracking ID"}}),e._v(" "),r("SharedSummaryItem",{attrs:{textValue:e.order.location.name,textLabel:"Name"}}),e._v(" "),r("SharedSummaryItem",{attrs:{textValue:e.order.location.street,textLabel:"Street Address"}}),e._v(" "),r("SharedSummaryItem",{attrs:{textValue:e.order.location.city,textLabel:"City"}}),e._v(" "),r("SharedSummaryItem",{attrs:{textValue:e.order.location.state,textLabel:"State"}}),e._v(" "),r("SharedSummaryItem",{attrs:{textValue:e.order.location.zipCode,textLabel:"Zip Code"}})],1)},Nt=[],wt={render:kt,staticRenderFns:Nt},Dt=wt,Vt=r("VU/8"),Et=g,Lt=Vt(St,Dt,!1,Et,"data-v-61220ede",null),$t=Lt.exports;O.a.use(ne.a);var Pt=new ne.a({routes:[{path:"/",name:"Users",component:he},{beforeEnter:function(e,t,r){C(e,t,r),r()},path:"/users/new",name:"NewUser",component:Xe},{beforeEnter:function(e,t,r){U(e,t,r)},path:"/users/:userId/edit",name:"EditUser",component:Xe,props:function(e){return{user:e.params.user}}},{beforeEnter:function(e,t,r){U(e,t,r)},path:"/users/:userId",name:"User",component:ut,props:function(e){return{user:e.params.user}},children:[{beforeEnter:function(e,t,r){y(e,t,r)},path:"orders/:orderId",name:"Order",component:$t,props:function(e){return{user:e.params.user,userId:e.params.user.userId,order:e.params.order,orderId:e.params.orderId}}},{beforeEnter:function(e,t,r){b(e,t,r),r()},path:"orders/new",name:"NewOrder",component:_t,props:function(e){return{user:e.params.user,userId:e.params.user.userId}}},{beforeEnter:function(e,t,r){y(e,t,r)},path:"orders/:orderId/edit",name:"EditOrder",component:_t,props:function(e){return{user:e.params.user,userId:e.params.user.userId,order:e.params.order,orderId:e.params.orderId}}}]},{path:"/*",redirect:{name:"Users"}}]});r("jVtt"),r("esVZ"),r("CuRo");O.a.config.productionTip=!1,new O.a({el:"#app",router:Pt,store:ae,template:"<App/>",components:{App:H}})},Rcw2:function(e,t){},V4dV:function(e,t){},ZHmT:function(e,t){},esVZ:function(e,t){},jVtt:function(e,t){},nmdr:function(e,t){},wUnP:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.b45e9b2ef1fab0706dba.js.map